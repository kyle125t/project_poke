<html>
  <head>
    <script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-core.min.js"></script>
    <script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-radar.min.js"></script>
    <style type="text/css">
      html, body, #container {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  
  <body>
    <div id="container"></div>
    <script>
      function getData() {
        var name = d3.select("#poke1").property("value");
        d3.csv("poke_data.csv", function(error,data){
          if(error) throw error;
          for (var i=1; i<data.length; i++){
            if(data[i].Name == name){
              var attack = data[i].Attack;
              var defense = data[i].Defense;
              var hp = data[i].HP;
              var spatk = data[i].SpAtk;
              var spdef = data[i].SpDef;
              console.log(`Attack: ${attack}, Defense:${defense}, Speed: ${speed}, HP: ${hp}, Sp. Attack: ${spatk}, Sp. Defense: ${spdef}`);
            }
          }
        })
      }
      getData();
      
//draw the chart to update using the selected data 
      function buildPlot(){ 
        anychart.onDocumentReady(function () {
      // drawing our chart goes here

        // create radar chart
        var chart = anychart.radar();

        // set chart title
        chart.title("Your Pokemon Matchup");

        //if needed to test insert hardcoded data from bottom of file here 

        // set chart yScale settings
        chart.yScale()
        .minimum(30)
        .maximum(80)
        .ticks({'interval':10});

        // create first series
        chart.line(data1)
        // create second series
        chart.line(data2)
        // create third series
        chart.line(data3)

        // set container id for the chart
        chart.container('container');

        chart.yGrid().palette(["gray 0.1", "gray 0.2"]);
        // create first series
        chart.area(data1).name('Charmander').markers(true).fill("#E55934", 0.3).stroke("#E55934")
        // create second series
        chart.area(data2).name('Bulbasaur').markers(true).fill("#9BC53D", 0.3).stroke("#9BC53D")
        // create third series
        chart.area(data3).name('Squirtle').markers(true).fill("#5BC0EB", 0.3).stroke("#5BC0EB")

        // initiate chart drawing
        chart.draw();

    });
    </script>
  </body>
</html>

//Leaving dummy data in line but commented out in case we need it for testing 
      // var data1 = [
      //     {x: "HP", value: 39},
      //     {x: "Attack", value: 52},
      //     {x: "Defense", value: 43},
      //     {x: "Special Attack", value: 60},
      //     {x: "Special Defense", value: 50},
      //     {x: "Speed", value: 65},
      // ];

      // var data2 = [
      //     {x: "HP", value: 45},
      //     {x: "Attack", value: 49},
      //     {x: "Defense", value: 49},
      //     {x: "Special Attack", value: 65},
      //     {x: "Special Defense", value: 65},
      //     {x: "Speed", value: 45},
      // ]; 

      // var data3 = [
      //     {x: "HP", value: 44},
      //     {x: "Attack", value: 48},
      //     {x: "Defense", value: 65},
      //     {x: "Special Attack", value: 50},
      //     {x: "Special Defense", value: 64},
      //     {x: "Speed", value: 43},
      // ];